
version: "${CELLBASE.VERSION}"
apiVersion: "${project.version}"
wiki: https://github.com/opencb/cellbase/wiki
maintenanceFlagFile: "/tmp/maintenance"
maintainerContact: ignacio.medina@zettagenomics.com
logLevel: "INFO"
logDir: "./logs"
# where to output the logs
# can be "console" or "file", defaults to console
logOutput: "file"
# For testing
secretKey: "xPacig89igHSieEnveJEi4KCfdEslhmssC3vui1JJQGgDQ0y8v"
databases:
  mongodb:
    host: "${CELLBASE.DB.MONGODB.HOST}"
    user: "${CELLBASE.DB.USER}"
    password: "${CELLBASE.DB.PASSWORD}"
    options:
      authenticationDatabase: "${CELLBASE.DB.MONGODB.AUTHENTICATIONDATABASE}"
      authenticationMechanism: "${CELLBASE.DB.MONGODB.AUTHENTICATION_MECHANISM}"
      readPreference: "${CELLBASE.DB.MONGODB.READPREFERENCE}"
      replicaSet: "${CELLBASE.DB.MONGODB.REPLICASET}"
      connectionsPerHost: 20
      sslEnabled: false
      #      sslInvalidCertificatesAllowed: true
      #      sslInvalidHostnameAllowed: true
      enableSharding: false
server:
  rest:
    port: "${CELLBASE.SERVER.REST.PORT}"
defaultOutdir: "/tmp"
download:
  ## Genomic and Gene information
  ensembl:
    database:
      host: ensembldb.ensembl.org:3306
      user: anonymous
      password: ''
    libs: "${CELLBASE.ENSEMBL.LIBS}"
    url:
      host: https://ftp.ensembl.org/pub/
      files:
        # New Homo sapiens assemblies contain too many ALT regions, so we download 'primary_assembly' file instead
        PRIMARY_FA: "release-put_release_here/fasta/put_species_here/dna/put_capital_species_here.put_assembly_here.dna.primary_assembly.fa.gz"
        GTF: "release-put_release_here/gtf/put_species_here/put_capital_species_here.put_assembly_here.put_release_here.gtf.gz"
        PEP_FA: "release-put_release_here/fasta/put_species_here/pep/put_capital_species_here.put_assembly_here.pep.all.fa.gz"
        CDNA_FA: "release-put_release_here/fasta/put_species_here/cdna/put_capital_species_here.put_assembly_here.cdna.all.fa.gz"
        REGULATORY_BUILD: "release-put_release_here/regulation/put_species_here/put_species_here.put_assembly_here.Regulatory_Build.regulatory_features.20221007.gff.gz"
        MOTIF_FEATURES: "release-put_release_here/regulation/put_species_here/MotifFeatures/put_species_here.put_assembly_here.motif_features.gff.gz"
        MOTIF_FEATURES_INDEX: "release-put_release_here/regulation/put_species_here/MotifFeatures/put_species_here.put_assembly_here.motif_features.gff.gz.tbi"
        DESCRIPTION: "script:gene_extra_info.pl@description.txt"
        XREFS: "script:gene_extra_info.pl@xrefs.txt"
        CANONICAL: "script:ensembl_canonical.pl@ensembl_canonical.txt"
        GENOME_INFO: "script:genome_info.pl@genome_info.json"
        MMUSCULUS_VARIATION: "release-put_release_here/variation/vcf/put_species_here/put_species_here.vcf.gz"
        MMUSCULUS_STRUCTURAL_VARIATIONS: "release-put_release_here/variation/vcf/put_species_here/put_species_here_structural_variations.vcf.gz"

  ensemblGenomes:
    database:
      host: mysql-eg-publicsql.ebi.ac.uk:4157
      user: anonymous
      password: ''
    libs: "${CELLBASE.ENSEMBL.LIBS}"
    url:
      host: ftp://ftp.ensemblgenomes.org/pub
  refSeq:
    host: https://ftp.ncbi.nih.gov/refseq/
    version: "2023-10-11"
    files:
      GENOMIC_GTF: H_sapiens/annotation/GRCh38_latest/refseq_identifiers/GRCh38_latest_genomic.gtf.gz
      GENOMIC_FNA: H_sapiens/annotation/GRCh38_latest/refseq_identifiers/GRCh38_latest_genomic.fna.gz
      PROTEIN_FAA: H_sapiens/annotation/GRCh38_latest/refseq_identifiers/GRCh38_latest_protein.faa.gz
      RNA_FNA: H_sapiens/annotation/GRCh38_latest/refseq_identifiers/GRCh38_latest_rna.fna.gz
      MMUSCULUS_GENOMIC_GTF: M_musculus/annotation_releases/GCF_000001635.27-RS_2024_02/GCF_000001635.27_GRCm39_genomic.gtf.gz
      MMUSCULUS_GENOMIC_FNA: M_musculus/annotation_releases/GCF_000001635.27-RS_2024_02/GCF_000001635.27_GRCm39_genomic.fna.gz
      MMUSCULUS_PROTEIN_FAA: M_musculus/annotation_releases/GCF_000001635.27-RS_2024_02/GCF_000001635.27_GRCm39_protein.faa.gz
      MMUSCULUS_RNA_FNA: M_musculus/annotation_releases/GCF_000001635.27-RS_2024_02/GCF_000001635.27_GRCm39_rna.fna.gz
      RNORVEGICUS_GENOMIC_GTF: R_norvegicus/annotation_releases/GCF_036323735.1-RS_2024_02/GCF_036323735.1_GRCr8_genomic.gtf.gz
      RNORVEGICUS_GENOMIC_FNA: R_norvegicus/annotation_releases/GCF_036323735.1-RS_2024_02/GCF_036323735.1_GRCr8_genomic.fna.gz
      RNORVEGICUS_PROTEIN_FAA: R_norvegicus/annotation_releases/GCF_036323735.1-RS_2024_02/GCF_036323735.1_GRCr8_protein.faa.gz
      RNORVEGICUS_RNA_FNA: R_norvegicus/annotation_releases/GCF_036323735.1-RS_2024_02/GCF_036323735.1_GRCr8_rna.fna.gz
      BTAURUS_GENOMIC_GTF: B_taurus/annotation_releases/GCF_002263795.3-RS_2023_09/GCF_002263795.3_ARS-UCD2.0_genomic.gtf.gz
      BTAURUS_GENOMIC_FNA: B_taurus/annotation_releases/GCF_002263795.3-RS_2023_09/GCF_002263795.3_ARS-UCD2.0_genomic.fna.gz
      BTAURUS_PROTEIN_FAA: B_taurus/annotation_releases/GCF_002263795.3-RS_2023_09/GCF_002263795.3_ARS-UCD2.0_protein.faa.gz
      BTAURUS_RNA_FNA: B_taurus/annotation_releases/GCF_002263795.3-RS_2023_09/GCF_002263795.3_ARS-UCD2.0_rna.fna.gz
  maneSelect:
    host: https://ftp.ncbi.nlm.nih.gov/refseq/
    version: "1.2"
    files:
      MANE_SELECT: MANE/MANE_human/release_1.2/MANE.GRCh38.v1.2.summary.txt.gz
  lrg:
    host: http://ftp.ebi.ac.uk/
    version: "2021-03-30"
    files:
      LRG: pub/databases/lrgex/list_LRGs_transcripts_xrefs.txt
  hgnc:
    host: https://ftp.ebi.ac.uk/
    version: "2024-04-01"
    files:
      HGNC: pub/databases/genenames/hgnc/archive/monthly/tsv/hgnc_complete_set_2024-04-01.txt
  cancerHotspot:
    host: https://www.cancerhotspots.org/
    version: "v2"
    files:
      CANCER_HOTSPOT: files/hotspots_v2.xls
  dgidb:
    host: https://dgidb.org/
    version: "DGIdb v.5.0.7 (07/06/2024)"
    files:
      DGIDB: data/latest/interactions.tsv
  geneUniprotXref:
    host: http://ftp.uniprot.org/pub/databases/uniprot/current_release/knowledgebase/idmapping/by_organism/
    version: "2024-03-27"
    files:
      UNIPROT_XREF: HUMAN_9606_idmapping_selected.tab.gz
      MMUSCULUS_UNIPROT_XREF: MOUSE_10090_idmapping_selected.tab.gz
      RNORVEGICUS_UNIPROT_XREF: RAT_10116_idmapping_selected.tab.gz
      DRERIO_UNIPROT_XREF: DANRE_7955_idmapping_selected.tab.gz
      DMELOANOGASTER_UNIPROT_XREF: DROME_7227_idmapping_selected.tab.gz
      SCEREVISIAE_UNIPROT_XREF: YEAST_559292_idmapping_selected.tab.gz
      CELEGANS_UNIPROT_XREF: CAEEL_6239_idmapping_selected.tab.gz
  geneExpressionAtlas:
    host: https://ftp.ebi.ac.uk/
    version: "2.0.14"
    files:
      GENE_EXPRESSION_ATLAS: pub/databases/microarray/data/gxa/allgenes_updown_in_organism_part_2.0.14.tab.gz
  hpo:
    ## NOTE: Download manually from here now
    host: https://hpo.jax.org/app/data/annotations/
    version: "2024-04-26"
    files:
      HPO: "manual@phenotype_to_genes.txt"
  gnomadConstraints:
    host: https://storage.googleapis.com/
    version: "2.1.1"
    files:
      GNOMAD_CONSTRAINTS: gcp-public-data--gnomad/release/2.1.1/constraint/gnomad.v2.1.1.lof_metrics.by_transcript.txt.bgz
  goAnnotation:
    host: http://geneontology.org/
    files:
      GO_ANNOTATION: gene-associations/goa_human.gaf.gz
      MMUSCULUS_GO_ANNOTATION: gene-associations/mgi.gaf.gz
  cancerGeneCensus:
    ## To be downloaded manually
    host: https://cancer.sanger.ac.uk/census/
    version: "v99"
    files:
      CANCER_GENE_CENSUS: "manual@cancer-gene-census.tsv"

  ## Regulation
  mirbase:
    host: https://www.mirbase.org/
    version: "22.1"
    files:
      MIRBASE: download/miRNA.dat
  targetScan:
    host: http://hgdownload.cse.ucsc.edu/goldenPath/
  miRTarBase:
    host: https://mirtarbase.cuhk.edu.cn/
    version: "9.0"
    files:
      MIRTARBASE: ~miRTarBase/miRTarBase_2022/cache/download/9.0/hsa_MTI.xlsx
      MMUSCULUS_MIRTARBASE: ~miRTarBase/miRTarBase_2022/cache/download/9.0/mmu_MTI.xlsx
      RNORVEGICUS_MIRTARBASE: ~miRTarBase/miRTarBase_2022/cache/download/9.0/rno_MTI.xlsx

  ## Protein Data
  uniprot:
    host: https://ftp.uniprot.org/
    version: "2024-03-27"
    files:
      UNIPROT: pub/databases/uniprot/current_release/knowledgebase/complete/uniprot_sprot.xml.gz
  interpro:
    host: https://ftp.ebi.ac.uk/
    version: "2024-03-27"
    files:
      INTERPRO: pub/databases/interpro/current_release/protein2ipr.dat.gz
  intact:
    host: https://ftp.ebi.ac.uk/
    version: "2024-02-16"
    files:
      INTACT: pub/databases/intact/current/psimitab/intact.txt

  ## Conservation Scores
  phastCons:
    ## The CellBase downloader will change put_assembly_here by the assembly, e.g. hg38; and put_chromosome_here by the chromosomes: 1,2,..X,Y,M
    host: https://hgdownload.cse.ucsc.edu/
    version: "2022-08-30"
    files:
      PHASTCONS: goldenPath/hg38/phastCons470way/hg38.470way.phastCons/
      MMUSCULUS_PHASTCONS: goldenPath/mm39/phastCons35way/mm39.35way.phastCons/
  phylop:
    ## The CellBase downloader will change put_assembly_here by the assembly, e.g. hg38; and put_chromosome_here by the chromosomes: 1,2,..X,Y,M
    host: https://hgdownload.cse.ucsc.edu/
    version: "2022-08-30"
    files:
      PHYLOP: goldenPath/hg38/phyloP470way/hg38.470way.phyloP/
      MMUSCULUS_PHYLOP: goldenPath/mm39/phyloP35way/mm39.35way.phyloP/
  gerp:
    host: http://ftp.ensembl.org/
    version: "2023-05-17"
    files:
      GERP: pub/release-111/compara/conservation_scores/91_mammals.gerp_conservation_score/gerp_conservation_scores.homo_sapiens.GRCh38.bw
      MMUSCULUS_GERP: pub/release-111/compara/conservation_scores/91_mammals.gerp_conservation_score/gerp_conservation_scores.mus_musculus.GRCm39.bw

  ## Clinical Variant
  clinvar:
    host: https://ftp.ncbi.nlm.nih.gov/
    version: "2024-02"
    files:
      FULL_RELEASE: pub/clinvar/xml/RCV_xml_old_format/ClinVarFullRelease_2024-02.xml.gz
      SUMMARY: pub/clinvar/tab_delimited/variant_summary.txt.gz
      ALLELE: pub/clinvar/tab_delimited/variation_allele.txt.gz
      EFO_TERMS: ftp://ftp.ebi.ac.uk/pub/databases/eva/ClinVar/2015/ClinVar_Traits_EFO_Names_260615.csv
  cosmic:
    ## To be downloaded manually
    host: https://cancer.sanger.ac.uk/cosmic/
    version: "v99"
    files:
      COSMIC: CosmicMutantExport.tsv.gz
  hgmd:
    ## To be downloaded manually
    host: https://www.hgmd.cf.ac.uk/
    version: "2020-03"
    files:
      HGMD: hgmd.vcf
  gwasCatalog:
    ## Download file from https://www.ebi.ac.uk/gwas/docs/file-downloads to find the real version, which is 'e111_r2024-04-22'
    host: https://ftp.ebi.ac.uk/
    version: "2024-04-22"
    files:
      GWAS: pub/databases/gwas/releases/2024/04/22/gwas-catalog-associations_ontology-annotated.tsv
      DBSNP: All.vcf.gz

  dbSNP:
    host: https://ftp.ncbi.nih.gov/snp/latest_release/VCF/GCF_000001405.40.gz
    version: "156"

  pharmGKB:
    host: https://api.pharmgkb.org/v1/download/file/data/
    version: v1
    files:
      GENES: genes.zip
      CHEMICALS: chemicals.zip
      VARIANTS: variants.zip
      GUIDELINE_ANNOTATIONS: guidelineAnnotations.json.zip
      VARIANT_ANNOTATIONS: variantAnnotations.zip
      CLINICAL_ANNOTATIONS: clinicalAnnotations.zip
      CLINICAL_VARIANTS: clinicalVariants.zip
      DRUG_LABELS: drugLabels.zip
      RELATIONSHIPS: relationships.zip

  dgv:
    host: http://dgv.tcag.ca/v106/docs
  simpleRepeats:
    host: http://hgdownload.cse.ucsc.edu/
    files:
      SIMPLE_REPEATS: goldenPath/hg38/database/simpleRepeat.txt.gz
      MMUSCULUS_SIMPLE_REPEATS: goldenPath/mm39/database/simpleRepeat.txt.gz
  windowMasker:
    host: http://hgdownload.cse.ucsc.edu/
    files:
      WINDOW_MASKER: goldenPath/hg38/database/windowmaskerSdust.txt.gz
      MMUSCULUS_WINDOW_MASKER: goldenPath/mm39/database/windowmaskerSdust.txt.gz
  genomicSuperDups:
    host: http://hgdownload.cse.ucsc.edu/
    files:
      GENOMIC_SUPER_DUPS: goldenPath/hg38/database/genomicSuperDups.txt.gz

  ## Variant Pathogenic Prediction
  revel:
    host: https://zenodo.org/
    version: "1.3"
    files:
      REVEL: record/7072866/files/revel-v1.3_all_chromosomes.zip
  cadd:
    host: https://krishna.gs.washington.edu/
    version: "1.7"
    files:
      CADD: download/CADD/v1.7/GRCh38/whole_genome_SNVs.tsv.gz

  ## OBO Ontologies
  ## The version is retrieved from the OBO file
  hpoObo:
    host: http://purl.obolibrary.org/obo/
    files:
      HPO: hp.obo
  goObo:
    host: http://purl.obolibrary.org/obo/
    files:
      GO: go/go-basic.obo
  doidObo:
    host: http://purl.obolibrary.org/obo/
    files:
      DOID: doid.obo
  mondoObo:
    host: http://purl.obolibrary.org/obo/
    files:
      MONDO: mondo.obo

  ## Splice score
  mmSplice:
    host: http://kipoi.org/models/MMSplice/mtsplice/
    version: 2.0
  spliceAi:
    host: https://basespace.illumina.com/s/otSPW8hnhaZR
    version: 1.3.1

  ## Others
  pubmed:
    host: https://ftp.ncbi.nlm.nih.gov/pubmed/baseline/
    version: 2024
    files:
      PUBMED_REGEX: pubmed24n[1..1219..4].xml.gz
  reactome:
    host: http://www.reactome.org/download/current/biopax.zip


species:
  vertebrates:
    - id: hsapiens
      scientificName: Homo sapiens
      assemblies:
        - ensemblVersion: '111_38'
          name: GRCh38
#        - ensemblVersion: '82_37'
#          name: GRCh37
      data:
        - genome
        - conservation
        - repeats
        - gene
        - protein
        - regulation
        - variation
        - variation_functional_score
        - missense_variation_functional_score
        - clinical_variant
        - splice_score
        - ontology
        - pubmed
        - pharmacogenomics
    - id: mmusculus
      scientificName: Mus musculus
      assemblies:
        - ensemblVersion: '111_39'
          name: GRCm39
      data:
        - genome
        - conservation
        - repeats
        - gene
        - regulation
        - protein
        - variation
        - ontology
    - id: rnorvegicus
      scientificName: Rattus norvegicus
      assemblies:
        - ensemblVersion: '111_7.2'
          name: mRatBN7.2
      data:
        - genome
        - gene
        - regulation
        - protein
#        - variation
    - id: drerio
      scientificName: Danio rerio
      assemblies:
        - ensemblVersion: '111_11'
          name: GRCz11
      data:
        - genome
        - gene
        - regulation
        - protein
#        - variation
    - id: btaurus
      scientificName: Bos taurus
      assemblies:
        - ensemblVersion: '111_1.3'
          name: ARS-UCD1.3
      data:
        - genome
        - genome_info
        - gene
#        - refseq
        - regulation
        - variation
        - protein
    - id: sscrofa
      scientificName: Sus scrofa
      assemblies:
        - ensemblVersion: '111_11.1'
          name: Sscrofa11.1
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: ptroglodytes
      scientificName: Pan troglodytes
      assemblies:
        - ensemblVersion: '82_214'
          name: CHIMP2.1.4
      data:
        - genome
        - genome_info
        - gene
        - variation
    - id: ggorilla
      scientificName: Gorilla gorilla
      assemblies:
        - ensemblVersion: '82_31'
          name: gorGor3.1
      data:
        - genome
        - genome_info
        - gene
    - id: csabaeus
      scientificName: Chlorocebus sabaeus
      assemblies:
        - ensemblVersion: '82_1'
          name: ChlSab1.1
      data:
        - genome
        - genome_info
        - gene
    - id: sscrofa
      scientificName: Sus scrofa
      assemblies:
        - ensemblVersion: '82_102'
          name: Sscrofa10.2
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: cfamiliaris
      scientificName: Canis familiaris
      assemblies:
        - ensemblVersion: '82_31'
          name: CanFam3.1
      data:
        - genome
        - genome_info
        - gene
        - variation
  metazoa:
    - id: celegans
      scientificName: Caenorhabditis elegans
      assemblies:
        - ensemblVersion: '29_82_245'
          name: WBcel235
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: dmelanogaster
      scientificName: Drosophila melanogaster
      assemblies:
        - ensemblVersion: '29_82_6'
          name: BDGP6
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: agambiae
      scientificName: Anopheles gambiae
      assemblies:
        - ensemblVersion: '29_82_4'
          name: AgamP4
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
  fungi:
    - id: scerevisiae
      scientificName: Saccharomyces cerevisiae
      assemblies:
        - ensemblVersion: '29_82_4'
          name: R64-1-1
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: afumigatus
      scientificName: Aspergillus fumigatus
      assemblies:
        - ensemblVersion: '29_82_2'
          name: CADRE
      data:
        - genome
        - genome_info
        - gene
    - id: anidulans
      scientificName: Aspergillus nidulans
      assemblies:
        - ensemblVersion: '29_82_6'
          name: ASM1142v1
      data:
        - genome
        - genome_info
        - gene
  protist:
    - id: pfalciparum
      scientificName: Plasmodium falciparum
      assemblies:
        - ensemblVersion: '29_82_3'
          name: ASM276v1
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: lmajor
      scientificName: Leishmania major
      assemblies:
        - ensemblVersion: '29_82_2'
          name: ASM272v2
      data:
        - genome
        - genome_info
        - gene
  plants:
    - id: athaliana
      scientificName: Arabidopsis thaliana
      assemblies:
        - ensemblVersion: '29_82_10'
          name: TAIR10
      data:
        - genome
        - genome_info
        - gene
        - variation
        - protein
    - id: osativa
      scientificName: Oryza sativa
      assemblies:
        - ensemblVersion: '29_82_7'
          name: IRGSP-1.0
      data:
        - genome
        - genome_info
        - gene
        - variation
    - id: gmax
      scientificName: Glycine max
      assemblies:
        - ensemblVersion: '29_82_1'
          name: V1.0
      data:
        - genome
        - genome_info
        - gene
    - id: vvinifera
      scientificName: Vitis vinifera
      assemblies:
        - ensemblVersion: '29_82_3'
          name: IGGP_12x
      data:
        - genome
        - genome_info
        - gene
        - variation
    - id: zmays
      scientificName: Zea mays
      assemblies:
        - ensemblVersion: '29_82_6'
          name: AGPv3
      data:
        - genome
        - genome_info
        - gene
        - variation
    - id: sbicolor
      scientificName: Sorghum bicolor
      assemblies:
        - ensemblVersion: '29_82_14'
          name: Sorbi1
      data:
        - genome
        - genome_info
        - gene
        - variation
    - id: slycopersicum
      scientificName: Solanum lycopersicum
      assemblies:
        - ensemblVersion: '29_82_250'
          name: GCA_000188115.2
      data:
        - genome
        - genome_info
        - gene
        - variation
  virus:
    - id: evirus
      scientificName: Ebola virus
      assemblies:
        - name: KM034562v1
      data:
        - genome
        - gene
  bacteria:
    - id: mpneumoniae
      scientificName: Mycoplasma pneumoniae M129
      assemblies:
        - ensemblVersion: '29_82_1'
          ensemblCollection: bacteria_0_collection
          name: ASM2734v1
      data:
        - genome
        - genome_info
        - gene
        - protein
    - id: ecoli
      scientificName: Escherichia coli
      assemblies:
        - ensemblVersion: '29_82_1'
          ensemblCollection: bacteria_91_collection
          name: HUSEC2011CHR1
      data:
        - genome
        - genome_info
        - gene
        - protein
